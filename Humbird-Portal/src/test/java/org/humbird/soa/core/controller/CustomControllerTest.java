package org.humbird.soa.core.controller;

import org.junit.Test;

public class CustomControllerTest {

    @Test
    public void testCustom() throws Exception {
//        HumbirdUtil.init();

//        String  name = Codec.enc(Codec.BASE64, Codec.enc(Codec.DES, "123"));
//        String  ss = Codec.dec(Codec.DES, Codec.dec(Codec.BASE64, name));
//        System.out.println(ss);
//        HumbirdSession session = HumbirdUtil.getSession(KeyUtil.INDEX_KEY);
//
//        System.out.println(session.getKey());
//        IndexModel indexModel = (IndexModel) session.getValue();
//        System.out.println(session);
//
//        Thread.sleep(32000);
//        HumbirdSession session2 = HumbirdUtil.getSession(KeyUtil.INDEX_KEY);
//        System.out.println(session2);
//        Assert.assertEquals("null-null", indexModel.getVersion());
    }

    @Test
    public void test2() throws Exception {
//        HumbirdUtil.init();
//        HumbirdSession session = HumbirdUtil.getSession(KeyUtil.INDEX_KEY);
//
//        System.out.println(session.getKey());
//        IndexModel indexModel = (IndexModel) session.getValue();
//        System.out.println(session);

//        CacheContext cacheContext = new CacheContext(0);
//        cacheContext.getMap().put("1", "2");
//        HumbirdUtil.setMetaDataSessionCache("123", cacheContext);

//        CacheContext<String> cacheContext1 = (CacheContext<String>) HumbirdUtil.getMetaDataSession("123");
//
//        System.out.println(HumbirdUtil.getMetaDataSessionList().size());
//        System.out.println(cacheContext1.getMap().get("1"));
//
//        Thread.sleep(16000);
//        HumbirdSession session2 = HumbirdUtil.getSession(KeyUtil.INDEX_KEY);
//        System.out.println(session2);
//
//        cacheContext = (CacheContext<String>) HumbirdUtil.getMetaDataSession("go");
//        System.out.println(cacheContext);

//        Assert.assertEquals("null-null", indexModel.getVersion());
    }

    @Test
    public void t4() throws Exception {
//        HumbirdUtil.init();
//        ESignDone done = new ESignDone();
//        EsignInvoke invoke = new ReceiveBillZipInvoke();
//        invoke.init();
//        invoke.invoke();
//        invoke.destroy();
    }

}